

CREATE TABLE IF NOT EXISTS REPRESENTANTS (
NR INTEGER PRIMARY KEY,
NOMR VARCHAR (20) ,
VILLE VARCHAR (20) 
);

CREATE TABLE IF NOT EXISTS PRODUITS (
 NP INTEGER PRIMARY KEY,
 NOMP VARCHAR (20),
 COUL VARCHAR (20) CHECK (COUL IN ('Bleu', 'Blanc', 'Rouge')),
 PRIX INTEGER
 );

CREATE TABLE IF NOT EXISTS CLIENTS (
 NC INTEGER PRIMARY KEY,
 NOMC VARCHAR (20),
 VILLE VARCHAR (20)
 );

CREATE TABLE IF NOT EXISTS VENTES (
 NR INTEGER REFERENCES REPRESENTANTS(NR),
 NP INTEGER REFERENCES PRODUITS(NP),
 NC INTEGER REFERENCES CLIENTS(NC),
 QT INTEGER,
 PRIMARY KEY (NR, NP, NC),
 CONSTRAINT fk_NR FOREIGN KEY (NR) REFERENCES REPRESENTANTS(NR) ON DELETE CASCADE ON UPDATE CASCADE,
 CONSTRAINT fk_NP FOREIGN KEY (NP) REFERENCES PRODUITS(NP) ON DELETE CASCADE ON UPDATE CASCADE,
 CONSTRAINT fk_NC FOREIGN KEY (NC) REFERENCES CLIENTS(NC) ON DELETE CASCADE ON UPDATE CASCADE 
 );

INSERT INTO  REPRESENTANTS (NR, NOMR, VILLE) VALUES (1 ,'Stephane' ,'Lyon');
INSERT INTO REPRESENTANTS (NR, NOMR, VILLE) VALUES(2 ,'Philippe' ,'Brest' );
INSERT INTO REPRESENTANTS (NR, NOMR, VILLE) VALUES(3 ,'Tom' ,'Paris' );
INSERT INTO REPRESENTANTS (NR, NOMR, VILLE)VALUES (4 ,'Antoine' ,'Lannion' );
INSERT INTO REPRESENTANTS (NR, NOMR, VILLE) VALUES(5 ,'Bruno' ,'Toulouse' );

INSERT INTO PRODUITS (NP, NOMP, COUL, PRIX) VALUES(1 ,'Aspirateur' ,'Rouge' , 150);
INSERT INTO PRODUITS (NP, NOMP, COUL, PRIX) VALUES(2 ,'Trotinette' ,'Bleu' , 50);
INSERT INTO PRODUITS (NP, NOMP, COUL, PRIX) VALUES(3 ,'Chaise' ,'Rouge' , 10);
INSERT INTO PRODUITS (NP, NOMP, COUL, PRIX) VALUES(4 ,'VÃ©lo' ,'Blanc' , 1000);

INSERT INTO  CLIENTS (NC, NOMC, VILLE) VALUES (1 ,'Thomas' ,'Bordeaux');
INSERT INTO CLIENTS (NC, NOMC, VILLE) VALUES(2 ,'Alice' ,'Morlaix' );
INSERT INTO CLIENTS (NC, NOMC, VILLE) VALUES(3 ,'Margot' ,'Paris' );
INSERT INTO CLIENTS (NC, NOMC, VILLE)VALUES (4 ,'Lola' ,'Lannion' );

INSERT INTO VENTES (NR,NP,NC,QT) VALUES (1 ,1, 1, 1);
INSERT INTO VENTES (NR,NP,NC,QT) VALUES (1 ,1, 2, 1);
INSERT INTO VENTES (NR,NP,NC,QT) VALUES (2 ,2, 1, 1);
INSERT INTO VENTES (NR,NP,NC,QT) VALUES (4 ,3, 3, 30);
INSERT INTO VENTES (NR,NP,NC,QT) VALUES (1 ,3, 2, 50);
INSERT INTO VENTES (NR,NP,NC,QT) VALUES (3,1, 4, 20);
INSERT INTO VENTES (NR,NP,NC,QT) VALUES (3 ,4, 1, 18);
INSERT INTO VENTES (NR,NP,NC,QT) VALUES (2 ,4, 4, 50);
INSERT INTO VENTES (NR,NP,NC,QT) VALUES (4 ,1, 1, 5);
INSERT INTO VENTES (NR,NP,NC,QT) VALUES (4 ,4, 3, 6);
